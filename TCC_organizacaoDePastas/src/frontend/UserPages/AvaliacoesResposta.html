<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avaliações</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" a href="../assets/css/forms.css">
    <link rel="stylesheet" a href="../assets/css/main.css">
    <link rel="stylesheet" a href="../assets/css/components.css">
    <link rel="stylesheet" a href="../assets/css/pgIndexNavFooter.css">
</head>
<body class="backgrond-black">
  <div id="header-container"></div>



  <div class="container py-5">
    <div class="title-comentarios">
    <h1 class="text-center mb-4" style="font-family: var(--font2);">Comentários Respondidos</h1>
  </div>
    <div id="comentarios-respondidos"></div>
  </div>






      
    
  
      <script src="JAVASCRIPT/jquery.js"></script>
      <script src="/TCC_organizacaoDePastas/src/frontend/assets/js/loadHeader.js"></script>
      <script src="../assets/js/navbar.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    
    
    
         <!--  // Abra o console do navegador (F12) e execute:
    localStorage.removeItem('isLoggedIn');
    localStorage.removeItem('usuario');
    localStorage.clear();
    console.log(localStorage.getItem('isLoggedIn')); -->

      </body>
    
    </html>
      <!--   FOOTER   -->
      <footer class="footer-conteiner">
        <div class="container text-center">
          <div class="row">
            <div class="col">
              <img class="logo-grande" src="../public/icons/LogoBellaMessa.png" alt="Logo da Bella Massa">
            </div>
            <div class="col">
              <h5>Endereço</h5>
              <p>Av João Gonçalves dos Reis, 350, Medeiros(Esquina com a Av Francisco Nobre)</p>
              <p>São Paulo-SP</p>
            </div>
            <div class="col">
              <h5>Telefone</h5>
              <p>(11)9002-0922</p>
              <p>(11)9002-0922</p>
            </div>
            <div class="col">
              <h5>Horário de funcionamento</h5>
              <h6>Terça a Quinta</h6>
              <p> Das 17:00 ás 00:00</p>
              <h6>Sexta á Sábado</h6>
              <p> Das 17:00 ás 01:00</p>
            </div>
          </div>
    
          <!-- Redes Sociais abaixo das colunas -->
          <div class="row">
            <div class="col redes-sociais">
              <a href="#" class="midia"><img src="../public/icons/whatsapp.png" height="30" width="30"></a>
              <a href="#" class="midia"><img src="../public/icons/instagram.png" height="30" width="30"></a>
              <a href="#" class="midia"><img src="../public/icons/tik-tok (1).png" height="30" width="30"></a>
            </div>
          </div>
        </div>
      </footer>
    
  
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    
    
    
     
    <script>
      fetch('../UserPages/header.html')
        .then(response => response.text())
        .then(data => {
          document.getElementById('header-container').innerHTML = data;
        })
        .catch(error => console.error('Erro ao carregar o header:', error));
        
       // Re-inicialize os componentes Bootstrap que dependem de data-bs-toggle
       const modalTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="modal"]'));
       modalTriggerList.map(function (modalTriggerEl) {
         new bootstrap.Modal(modalTriggerEl);
       });
    
       const offcanvasTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="offcanvas"]'));
       offcanvasTriggerList.map(function (offcanvasTriggerEl) {
         new bootstrap.Offcanvas(offcanvasTriggerEl);
       });
       
    const container = document.getElementById("comentarios-respondidos"); /* pega o id do html */
    const respondidos = JSON.parse(localStorage.getItem("comentariosRespondidos") || "[]");  /* salva os comentarios repondidos no banco */
    if (respondidos.length === 0) {
      container.innerHTML = "<p class='text-center'>Nenhum comentário respondido ainda.</p>";
    } else {
      respondidos.forEach(comentario => {
        const data = new Date(comentario.data).toLocaleString(); /* converte a data para BR */
        let estrelasHTML = '';
        if (comentario.estrelas) { /* se tiver estrelas criar visualmente estrelas */
          estrelasHTML = '<div class="star-rating me-2">';
          for (let i = 0; i < parseInt(comentario.estrelas); i++) {
            estrelasHTML += '<i class="bi bi-star-fill"></i>';
          }
          estrelasHTML += '</div>';
        }
        const div = document.createElement("div");  /* cria div para o comentario respondido */
        div.className = "card evaluation-card";
        div.innerHTML = `
          <div class="card-body">
            <h5 class="card-title mb-1" style="font-family: var(--font1)">${comentario.usuario}</h5>
            <div class="d-flex align-items-center mb-2">
              ${estrelasHTML}
              <span class="evaluation-date">${data}</span>
            </div>
            <p class="card-text fw-bolder">${comentario.comentario}</p>
            <div class="admin-response">
              <h6><strong>Bella Massa</strong></h6>
              <p class="mb-0">${comentario.resposta}</p>
            </div>
          </div>
        `;
        container.appendChild(div); /* inserindo tudo no html */
      });
    }

    </script>

     <script src="../assets/js/authFront.js"></script>
      <script src="../assets/js/loadHeader.js"></script>
      <script src="../assets/js/navbar.js"></script>
      </body>
     
    
    </html>