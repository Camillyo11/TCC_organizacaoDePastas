<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" a href="../css/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
  <link rel="stylesheet" a href="../assets/css/forms.css">
  <link rel="stylesheet" a href="../assets/css/main.css">
  <link rel="stylesheet" a href="../assets/css/components.css">
  <link rel="stylesheet" a href="../assets/css/pgIndexNavFooter.css">
  <title>Cardapio/selecionar pizza</title>
  <!-- Seu HTML existente do card√°pio -->



<style>
/* Adicione isso no CSS do card√°pio do cliente */
[data-id].item-retirado {
    display: none !important;
}

/* Ou alternativamente (se n√£o usar classes) */
.item-retirado {
    display: none !important;
}
/* Garante que itens retirados nunca sejam mostrados */
.item-retirado, [data-id].item-retirado {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

/* Mant√©m o layout organizado durante a pesquisa */
.sabores-container .row {
    display: flex;
    flex-wrap: wrap;
}

.sabores-container .row > [style*="display: none"] {
    display: none !important;
}
</style>


</head>

<body class="body-vermelho">
  <div id="header-container"></div>

  <div class="container cardapio-container">
    <div class="row full-width-row">

      <div class="col-md-12">
        <!-- <h2 class="text-center mb-4">Nossas Pizzas</h2> -->

        <!-- Abas de navega√ß√£o entre categorias -->
        <ul class="nav-categorias nav nav-tabs justify-content-center mb-4 " id="pizzaTabs" role="tablist">
          <li class="nav-item" role="presentation">
            <button class=" nav-link-categoria nav-link active text-dark " id="salgadas-tab" data-bs-toggle="tab"
              data-bs-target="#salgadas" type="button" role="tab">Pizzas
              Salgadas</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class=" nav-link-categoria nav-link text-dark " id="doces-tab" data-bs-toggle="tab"
              data-bs-target="#doces" type="button" role="tab">Pizzas Doces</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link-categoria nav-link  text-dark" id="bebidas-tab" data-bs-toggle="tab"
              data-bs-target="#bebidas" type="button" role="tab">Bebidas</button>
          </li>
        </ul>



        <div class="barra_pesquisa">
          <input type="text" class="form-control" id="barraPesquisa" placeholder="üîç Pesquisar">
        </div>
        <!-- Checkbox Meio a Meio -->
        <div class="form-check form-check-inline my-3">
          <input class="form-check-input" type="radio" name="modoPizza" id="radioInteira" value="inteira" checked>
          <label class="form-check-label text-light" for="radioInteira">Pizza Inteira</label>
        </div>

        <div class="form-check form-check-inline my-3">
          <input class="form-check-input" type="radio" name="modoPizza" id="radioMeioMeio" value="meio">
          <label class="form-check-label text-light" for="radioMeioMeio">Meio a Meio</label>
        </div>


        <!-- Bot√£o de confirmar Meio a Meio -->
        <div id="confirmarMeioMeio" class="mb-3 " style="display: none;">
          <button class="btn btn-success " onclick="confirmarMeioMeio()">Confirmar Meio a Meio</button>
        </div>

        <!-- bot√£o de confirmar pizzza inteira -->
        <div id="confirmarPizzaInteira" class="mb-3" style="display: block;">
          <button class="btn btn-primary " onclick="confirmarPizzaInteira()">Confirmar Pizza Inteira</button>
        </div>



        <!-- Conte√∫do das abas -->
        <div class="tab-content" id="pizzaTabsContent">
          <!-- Tab Pizzas Salgadas -->

          <div class="tab-pane fade show active sabores-container" id="salgadas" role="tabpanel">
            <h3 class="categoria-titulo">Pizzas Salgadas</h3>
            <div class="row">

              <!-- Pizza 1 -->
              <section class="col-md-6 col-lg-4 "data-id="pizza-frango-catupiry">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaFrangoComCatupiry.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Frango com Catupiry</h5>
                    <p class="card-text">Molho, Mussarela, frango desfiado e catupiry</p>
                   <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>

                    </div>
                  </div>
                </div>
              </section>

              <!-- Pizza 2 -->
              <section class="col-md-6 col-lg-4" data-id="Baiana">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaBaiana.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Baiana</h5>
                    <p class="card-text">Ervilha, cebola, mussarela, calabresa ralada, molho e
                      pimenta</p>
                  <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>

                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

              <!-- Pizza 3 -->
              <section class="col-md-6 col-lg-4"  data-id="pizza-calabresa">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaCalabreza.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Calabresa</h5>
                    <p class="card-text">Calabresa fatiada e cebola</p>
              <div class="pizza-preco" data-preco="43.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 43,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

              <!-- Pizza 4 -->
              <section class="col-md-6 col-lg-4"  data-id="QuatroQueijo">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaQuatroQueijo.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Quatro Queijo</h5>
                    <p class="card-text">Mussarela, or√©gano e tomate</p>
                    <div class="pizza-preco" data-preco="43.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 43,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <!-- Pizza 5 -->
              <section class="col-md-6 col-lg-4" data-id="Palmito">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaPalmito.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Palmito</h5>
                    <p class="card-text">Combina√ß√£o especial de mussarela e catupiry</p>
                 <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

              <!-- Pizza 6 -->
              <section class="col-md-6 col-lg-4" data-id="CalabresaComCatupiry">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaCalabrezaComCatupiry.png" class="card-img-top"
                      alt="...">
                    <h5 class="card-title pizza-nome">Calabresa com Catupiry</h5>
                    <p class="card-text">Combina√ß√£o especial de Calabresa e Cebola com catupiry</p>
                     <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>


              <!-- Pizza 7 -->
              <section class="col-md-6 col-lg-4" data-id="Portuguesa">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaportuguesa.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Portuguesa</h5>
                    <p class="card-text">Combina√ß√£o especial de presunto, cebola, ovo e mussarela
                    </p>
                   <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>


              <!-- Pizza 8 -->
              <section class="col-md-6 col-lg-4" data-id="FrangoComMilho">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaFrangoComMilho.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Frango com milho</h5>
                    <p class="card-text">Combina√ß√£o especial de frango e milho</p>
                 <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>


              <!-- Pizza 9 -->
              <section class="col-md-6 col-lg-4" data-id="QueijoBranco">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaQueijoBranco.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Queijo branco</h5>
                    <p class="card-text">Combina√ß√£o especial de mussarela e queijo fresco</p>
              <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>


              <!-- Pizza 10-->
              <section class="col-md-6 col-lg-4" data-id="Strogonoff">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaStrogonoff.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Strogonoff</h5>
                    <p class="card-text">Combina√ß√£o especial de frango, mussarela e batata palha</p>
             <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

              <!-- Pizza 11-->
              <section class="col-md-6 col-lg-4" data-id="Canadense">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaBaconComCatupiry.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Canadense</h5>
                    <p class="card-text">Combina√ß√£o especial de Lombo, bacon, ervilha e mussarela
                    </p>
              <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

              <!-- Pizza 12-->
              <section class="col-md-6 col-lg-4" data-id="Jardineira">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/imgPizzas/pizzaPalmito.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Jardineira</h5>
                    <p class="card-text">Combina√ß√£o especial de calabresa, palmito, cebola e
                      mussarela</p>
                    <div class="pizza-preco" data-preco="47.90" data-categoria="salgada">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>




              <!-- Adicione mais pizzas conforme necess√°rio -->
            </div>


          </div>


          <!-- Tab Pizzas Doces-->

          <div class="tab-pane fade sabores-container" id="doces" role="tabpanel">
            <h3 class="categoria-titulo">Pizzas Doces</h3>
            <div class="row">

              <!-- Pizza 1-->
              <section class="col-md-6 col-lg-4" data-id="BananaCondensada">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaBananaCondensado.png" class="card-img-top"
                      alt="...">
                    <h5 class="card-title pizza-nome">Banana Condensada</h5>
                    <p class="card-text">Banana com leite condensado</p>
                 <div class="pizza-preco" data-preco="47.90" data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!-- Pizza 2-->
              <section class="col-md-6 col-lg-4" data-id="pizza-brigadeiro">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaBrigadeiro.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Brigadeiro</h5>
                    <p class="card-text">Chocolate ao leite e granulado</p>
                 <div class="pizza-preco" data-preco="47.90"data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!-- Pizza 3-->
              <section class="col-md-6 col-lg-4" data-id="pizza-chocorango">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaChocorango.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Pizza Chocorango</h5>
                    <p class="card-text">Chocolate ao leite com morango</p>
                 <div class="pizza-preco" data-preco="47.90" data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!-- Pizza 4-->
              <section class="col-md-6 col-lg-4"  data-id="PizzaChocoUva">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaChocoUva.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Pizza ChocoUva</h5>
                    <p class="card-text">Chocolate ao leite com uva verde</p>
              <div class="pizza-preco" data-preco="47.90"data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!-- Pizza 5-->
              <section class="col-md-6 col-lg-4" data-id="PizzaM&M">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaM&M.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Pizza M&M</h5>
                    <p class="card-text">Chocolate ao leite com M&M</p>
                   <div class="pizza-preco" data-preco="47.90"data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>
              <!-- Pizza 6-->
              <section class="col-md-6 col-lg-4" data-id="PizzaRomeueJulieta">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Doces/pizzaRomeuJulieta.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Pizza Romeu e Julieta</h5>
                    <p class="card-text">Mussarela com goiabada</p>
                  <div class="pizza-preco" data-preco="47.90" data-categoria="doce">
                    <p class="pizza-preco">R$ 47,90</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>

                  </div>
                </div>
              </section>

            </div>
          </div>


          <!-- Tab Bebidas-->
          <div class="tab-pane fade sabores-container" id="bebidas" role="tabpanel">
            <h3 class="categoria-titulo">Bebidas</h3>
            <div class="row">
              <!-- Bebida 1-->
              <section class="col-md-6 col-lg-4" data-id="bebida-coca-1l">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/Coca-cola1L.png" class="card-img-top" alt="...">
                    <h5 class="card-title pizza-nome">Coca-Cola 1L</h5>
                <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!-- Bebida 2-->
              <section class="col-md-6 col-lg-4" data-id="Coca-cola2L">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/Coca-cola2L.jpg" class="card-img-top" alt="...">
                    <h5 class="card-title bebida-nome">Coca-cola 2L </h5>
                   <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!-- Bebida 3-->
              <section class="col-md-6 col-lg-4" data-id="Guarana2L">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/Guarana2L.png" class="card-img-top" alt="...">
                    <h5 class="card-title bebida-nome">Guarana 2L</h5>
                     <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!-- Bebida 4-->
              <section class="col-md-6 col-lg-4" data-id="Sprite2L">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/Sprite.png" class="card-img-top" alt="...">
                    <h5 class="card-title bebida-nome">Sprite 2L</h5>
                   <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!-- Bebida 5-->
              <section class="col-md-6 col-lg-4"  data-id="FantaUva2L">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/FantaUva.png" class="card-img-top" alt="...">
                    <h5 class="card-title bebida-nome">Fanta Uva 2L</h5>
                      <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
              <!-- Bebida 6-->
              <section class="col-md-6 col-lg-4" data-id="Itubaina2L">
                <div class="card pizza-card h-100">
                  <div class="card-body">
                    <img src="../public/produtos/Bebidas/Tubaina2L.png" class="card-img-top" alt="...">
                    <h5 class="card-title bebida-nome">Itubaina 2L</h5>
            <div class="pizza-preco" data-preco="15.00" data-categoria="bebida">
                    <p class="pizza-preco">R$ 15,00</p>
                    <div class="quantidade">
                      <div class="quantidade-itens">
                        <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                        <span class="mx-2">0</span>
                        <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </div>
        </div>
      </div>



      <section class="borda">
        <h3 class="categoria-titulo mt-5">Op√ß√µes de Borda</h3>
        <div class="row">
          <div class="col-md-3" data-id="borda-tradicional">
            <div class="borda-option">
              <h5>Borda Tradicional</h5>
              <p>+R$ 0,00</p>
              <div class="opcoes-borda-radio text-start mt-3">
                <label class="radio-label">
                  <input class="borda-radio form-check-input" type="radio" name="pagamento" checked>
                </label>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-id="borda-catupiry">
            <div class="borda-option">
              <h5>Borda de Catupiry</h5>
              <p class="borda-preco">+R$ 10,00</p>
              <div class="opcoes-borda-radio text-start mt-3">
                <label class="radio-label">
                  <input class="borda-radio form-check-input" type="radio" name="pagamento">
                </label>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-id="borda-cheddar">
            <div class="borda-option">
              <h5>Borda de Cheddar</h5>
              <p  class="borda-preco">+R$ 10,00</p>
              <div class="opcoes-borda-radio text-start mt-3">
                <label class="radio-label">
                  <input class="borda-radio form-check-input" type="radio" name="pagamento">
                </label>
              </div>
            </div>
          </div>

          <div class="col-md-3" data-id="borda-chocolate">
            <div class="borda-option">
              <h5>Borda de Chocolate</h5>
              <p  class="borda-preco">+R$ 15,00</p>
              <div class="opcoes-borda-radio text-start mt-3">
                <label class="radio-label">
                  <input class="borda-radio form-check-input" type="radio" name="pagamento">
                </label>
              </div>
            </div>
          </div>
        </div>
      </section>

     <!-- Bot√µes de a√ß√£o -->
      <section>
        <div class="button-laranja-position mt-4">
          <button id="btnIrCarrinho" class="button-laranja " onclick="irParaCarrinho()" disabled>Adicionar ao carrinho</button>
        </div>
      </section>
    </div>
  </div>

  <!--   FOOTER   -->

  <footer class="footer-conteiner">
    <div class="container text-center">
      <div class="row">
        <div class="col">
          <img class="logo-grande" src="../public/icons/LogoBellaMessa.png" alt="Logo da Bella Massa">
        </div>
        <div class="col">
          <h5>Endere√ßo</h5>
          <p>Av Jo√£o Gon√ßalves dos Reis, 350, Medeiros(Esquina com a Av Francisco Nobre)</p>
          <p>S√£o Paulo-SP</p>
        </div>
        <div class="col">
          <h5>Telefone</h5>
          <p>(11)9002-0922</p>
          <p>(11)9002-0922</p>
        </div>
        <div class="col">
          <h5>Hor√°rio de funcionamento</h5>
          <h6>Ter√ßa a Quinta</h6>
          <p> Das 17:00 √°s 00:00</p>
          <h6>Sexta √° S√°bado</h6>
          <p> Das 17:00 √°s 01:00</p>
        </div>
      </div>

      <!-- Redes Sociais abaixo das colunas -->
      <div class="row">
        <div class="col redes-sociais">
          <a href="#" class="midia"><img src="../public/icons/whatsapp.png" height="30" width="30"></a>
          <a href="#" class="midia"><img src="../public/icons/instagram.png" height="30" width="30"></a>
          <a href="#" class="midia"><img src="../public/icons/tik-tok (1).png" height="30" width="30"></a>
        </div>
      </div>
    </div>
  </footer>
 <script src="../assets/js/index.js"></script>
  <!-- Script de carregamento (coloque no FINAL do body, ap√≥s o bootstrap) -->
  <script>
    fetch('../UserPages/header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-container').innerHTML = data;
      })
      .catch(error => console.error('Erro ao carregar o header:', error));

    // Re-inicialize os componentes Bootstrap que dependem de data-bs-toggle
    const modalTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="modal"]'));
    modalTriggerList.map(function (modalTriggerEl) {
      new bootstrap.Modal(modalTriggerEl);
    });







    // Barra de pesquisa 
document.getElementById("barraPesquisa").addEventListener("input", function() {
    const termo = this.value.toLowerCase();
    const abaAtiva = document.querySelector(".tab-pane.active");
    const itensRetirados = JSON.parse(localStorage.getItem('itensRetirados')) || [];
    
    abaAtiva.querySelectorAll(".pizza-card").forEach(card => {
        const itemContainer = card.closest('[data-id]');
        const itemId = itemContainer.dataset.id;
        const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText?.toLowerCase() || "";
        const descricao = card.querySelector(".card-text")?.innerText?.toLowerCase() || "";
        
        const correspondeBusca = nome.includes(termo) || descricao.includes(termo);
        const estaRetirado = itensRetirados.includes(itemId);
        
        // Aplicar l√≥gica de visibilidade
        if(estaRetirado) {
            card.parentElement.style.display = "none";
            card.parentElement.classList.add('item-retirado');
        } else {
            card.parentElement.style.display = correspondeBusca ? "" : "none";
            card.parentElement.classList.remove('item-retirado');
        }
    });
});

// Fun√ß√µes de retirar/voltar (separadas, fora do evento de pesquisa)
function retirarItem(event) {
    const btn = event.target;
    const itemContainer = btn.closest('[data-id]');
    const itemId = itemContainer.dataset.id;
    const card = itemContainer.querySelector('.card, .borda-option');
    
    card.classList.add('item-retirado');
    salvarItemRetirado(itemId, true);
    itemContainer.style.display = 'none';
}

function voltarItem(event) {
    const btn = event.target;
    const itemContainer = btn.closest('[data-id]');
    const itemId = itemContainer.dataset.id;
    const card = itemContainer.querySelector('.card, .borda-option');
    
    card.classList.remove('item-retirado');
    salvarItemRetirado(itemId, false);
    
    const termo = document.getElementById("barraPesquisa").value.toLowerCase();
    if(termo === '') {
        itemContainer.style.display = '';
    } else {
        const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText?.toLowerCase() || "";
        const descricao = card.querySelector(".card-text")?.innerText?.toLowerCase() || "";
        itemContainer.style.display = (nome.includes(termo) || descricao.includes(termo) )? '' : 'none';
    }
}

// Fun√ß√£o auxiliar para salvar no localStorage
function salvarItemRetirado(itemId, retirar) {
    let itensRetirados = JSON.parse(localStorage.getItem('itensRetirados')) || [];
    
    if(retirar) {
        if(!itensRetirados.includes(itemId)) {
            itensRetirados.push(itemId);
        }
    } else {
        itensRetirados = itensRetirados.filter(id => id !== itemId);
    }
    
    localStorage.setItem('itensRetirados', JSON.stringify(itensRetirados));
}





    // Inicializa√ß√£o do Offcanvas
    const offcanvasTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="offcanvas"]'));
    offcanvasTriggerList.map(function (offcanvasTriggerEl) {
      new bootstrap.Offcanvas(offcanvasTriggerEl);
    });
    const form = document.getElementById("avaliacaoForm");
    let meioMeioAtivo = false;
    let pizzasSelecionadas = [];

    function isPizzaTab(tabId) {
      return tabId === "salgadas" || tabId === "doces";
    }

  function atualizarVisibilidadePizzas() {
  const todasPizzas = document.querySelectorAll(".pizza-card");

  todasPizzas.forEach(card => {
    const isBebida = card.closest("#bebidas") !== null;
    const qtd = parseInt(card.querySelector(".quantidade span").innerText);
    const selecionada = card.classList.contains("selecionada");

    if (meioMeioAtivo && !isBebida) {
      if (qtd > 0 || pizzasSelecionadas.length < 2 || selecionada) {
        card.parentElement.style.display = "";
      } else {
        card.parentElement.style.display = "none";
      }
    } else {
      card.parentElement.style.display = "";
    }
  });
}

document.querySelectorAll('input[name="modoPizza"]').forEach(radio => {
  radio.addEventListener("change", function () {
    meioMeioAtivo = (this.value === "meio");
    pizzasSelecionadas = [];

    const abaAtiva = document.querySelector(".tab-pane.active");
    const tabId = abaAtiva.id;

    abaAtiva.querySelectorAll(".pizza-card").forEach(card => {
      const span = card.querySelector(".quantidade span");
      const nome = card.querySelector(".pizza-nome")?.innerText;
      const qtd = parseInt(span.innerText);

      if (isPizzaTab(tabId)) {
        if (meioMeioAtivo) {
          span.innerText = "0";
          card.classList.remove("selecionada");
        } else {
          span.innerText = "0";
          card.classList.remove("selecionada");
        }
      }
      card.parentElement.style.display = "";
    });

    // Exibir o bot√£o correto
    document.getElementById("confirmarPizzaInteira").style.display = meioMeioAtivo ? "none" : "block";
    document.getElementById("confirmarMeioMeio").style.display = meioMeioAtivo ? "block" : "none";

    atualizarVisibilidadePizzas();
  });
});




// BOT√ÉO DE ADICIONAR
document.querySelectorAll(".btn_adicionar").forEach(button => {
  button.addEventListener("click", function () {
    const span = this.parentElement.querySelector("span");
    let valor = parseInt(span.innerText);
    const card = this.closest(".pizza-card");
    const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText;
    const abaAtiva = document.querySelector(".tab-pane.active");
    const tabId = abaAtiva.id;

    const isPizza = tabId === "salgadas" || tabId === "doces";
    const isBebida = tabId === "bebidas";

    if (meioMeioAtivo && isPizza) {
      if (valor < 1 && pizzasSelecionadas.length < 2) {
        span.innerText = valor + 1;
        card.classList.add("selecionada");
        pizzasSelecionadas.push(nome);
      }
    } else {
      if (valor < 10) {
        span.innerText = valor + 1;
      }
    }

    if (meioMeioAtivo && isPizza) {
      atualizarVisibilidadePizzas();
      //  MANT√âM O BOT√ÉO VIS√çVEL
      document.getElementById("confirmarMeioMeio").style.display = "block";
    }
  });
});

// BOT√ÉO DE RETIRAR
document.querySelectorAll(".btn_retirar").forEach(button => {
  button.addEventListener("click", function () {
    const card = this.closest(".pizza-card");
    const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText;
    const abaAtiva = document.querySelector(".tab-pane.active");
    const tabId = abaAtiva.id;
    const span = card.querySelector(".quantidade span");
    let valor = parseInt(span.innerText);

    if (valor > 0) {
      span.innerText = valor - 1;
      if (meioMeioAtivo && isPizzaTab(tabId) && valor - 1 === 0) {
        card.classList.remove("selecionada");
        pizzasSelecionadas = pizzasSelecionadas.filter(p => p !== nome);
      }
    }

    if (meioMeioAtivo && isPizzaTab(tabId)) {
      atualizarVisibilidadePizzas();
      //  GARANTE QUE O BOT√ÉO CONTINUE VIS√çVEL MESMO AP√ìS REMOVER UMA PIZZA
      document.getElementById("confirmarMeioMeio").style.display = "block";
    }
  });
});

/* fun√ß√£o de confirmar meio a meio */
function confirmarMeioMeio() {
  if (pizzasSelecionadas.length !== 2) {
    alert("Escolha as duas metades da pizza.");
    return;
  }

  const bebidasSelecionadas = [];
  document.querySelectorAll("#bebidas .pizza-card").forEach(card => {
    const nome = card.querySelector(".bebida-nome")?.innerText || "";
    const qtd = parseInt(card.querySelector(".quantidade span")?.innerText || "0");
    if (qtd > 0) {
      bebidasSelecionadas.push({ nome, qtd });
    }
  });

  const bordaSelecionada = document.querySelector('input[name="pagamento"]:checked');
  const bordaLabel = bordaSelecionada?.closest(".borda-option")?.querySelector("h5")?.innerText || "Nenhuma";

  const carrinho = [{
    tipo: "meio a meio",
    pizzas: pizzasSelecionadas,
    borda: bordaLabel,
    bebidas: bebidasSelecionadas,
    preco: calcularPrecoPizza("meio", [], bebidasSelecionadas)
  }];

  // Salva no localStorage
  localStorage.setItem("carrinho", JSON.stringify(carrinho));

  // Mostra resumo
  const bebidasText = bebidasSelecionadas.length > 0
    ? bebidasSelecionadas.map(b => `${b.nome} x${b.qtd}`).join(", ")
    : "Nenhuma";

  alert(
    `Resumo do pedido:\n` +
    ` Meio a Meio: ${pizzasSelecionadas.join(" + ")}\n` +
    ` Borda: ${bordaLabel}\n` +
    ` Bebidas: ${bebidasText}\n\n` +
    `Clique em adicionar ao Carrinho" para finalizar.`
  );

  atualizarBotaoCarrinho();
}




/* fun√ß√£o de confirmar pizza inteira */
function confirmarPizzaInteira() {
  const pizzasSelecionadasInteiras = [];
  const bebidasSelecionadas = [];

  document.querySelectorAll(".pizza-card").forEach(card => {
    const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText;
    const span = card.querySelector(".quantidade span");
    const qtd = parseInt(span.innerText);

    if (qtd > 0) {
      const isBebida = !!card.querySelector(".bebida-nome");

      if (isBebida) {
        bebidasSelecionadas.push({ nome, qtd });
      } else {
        pizzasSelecionadasInteiras.push({ nome, qtd });
      }
    }
  });

  if (pizzasSelecionadasInteiras.length === 0) {
    alert("Selecione ao menos uma pizza.");
    return;
  }

  const bordaSelecionada = document.querySelector('input[name="pagamento"]:checked');
  const bordaLabel = bordaSelecionada?.closest(".borda-option")?.querySelector("h5")?.innerText || "Nenhuma";

  const carrinho = [{
    tipo: "inteira",
    pizzas: pizzasSelecionadasInteiras,
    borda: bordaLabel,
    bebidas: bebidasSelecionadas,
    preco: calcularPrecoPizza("inteira", pizzasSelecionadasInteiras, bebidasSelecionadas)
  }];

  // Salva o pedido no localStorage
  localStorage.setItem("carrinho", JSON.stringify(carrinho));

  // Mostra resumo do pedido
  const pizzasText = pizzasSelecionadasInteiras.map(p => `${p.nome} x${p.qtd}`).join(", ");
  const bebidasText = bebidasSelecionadas.length > 0
    ? bebidasSelecionadas.map(b => `${b.nome} x${b.qtd}`).join(", ")
    : "Nenhuma";

  alert(
    `Resumo do pedido:\n` +
    `Pizza(s): ${pizzasText}\n` +
    ` Borda: ${bordaLabel}\n` +
    ` Bebidas: ${bebidasText}\n\n` +
    `Clique em "adicionar ao Carrinho" para finalizar.`
  );

  atualizarBotaoCarrinho();
}


    document.getElementById("barraPesquisa").addEventListener("input", function () {
      const termo = this.value.toLowerCase();
      const abaAtiva = document.querySelector(".tab-pane.active");

      // Verifica se a aba √© de pizza ou bebida
      const isPizzaTab = abaAtiva.id === "salgadas" || abaAtiva.id === "doces";

      abaAtiva.querySelectorAll(".pizza-card").forEach(card => {
        const nome = card.querySelector(".pizza-nome, .bebida-nome")?.innerText?.toLowerCase() || "";
        const descricao = card.querySelector(".card-text")?.innerText?.toLowerCase() || "";
        const corresponde = nome.includes(termo) || descricao.includes(termo);

        if (isPizzaTab && meioMeioAtivo) {
          const qtd = parseInt(card.querySelector(".quantidade span").innerText);
          const selecionada = card.classList.contains("selecionada");
          const podeExibir = corresponde && (qtd > 0 || pizzasSelecionadas.length < 2 || selecionada);
          card.parentElement.style.display = podeExibir ? "" : "none";
        } else {
          card.parentElement.style.display = corresponde ? "" : "none";
        }
      });
      
    });



 // Fun√ß√£o principal chamada ao clicar em "Adicionar ao Carrinho"
function adicionarAoCarrinho() {
  const modoPizza = document.querySelector('input[name="modoPizza"]:checked')?.value;
  const carrinho = [];

  // Coletar borda
  const bordaSelecionada = document.querySelector('input[name="pagamento"]:checked');
  const bordaLabel = bordaSelecionada?.closest(".borda-option")?.querySelector("h5")?.innerText || "Nenhuma";

  // Coletar bebidas
  const bebidasSelecionadas = [];
  document.querySelectorAll("#bebidas .pizza-card").forEach(card => {
    const nome = card.querySelector(".bebida-nome")?.innerText || "";
    const qtd = parseInt(card.querySelector(".quantidade span")?.innerText || "0");
    if (qtd > 0) {
      bebidasSelecionadas.push({ nome, qtd });
    }
  });

  // Coletar pizzas
  if (modoPizza === "meio") {
    if (pizzasSelecionadas.length !== 2) {
      alert("Selecione duas pizzas para o modo meio a meio.");
      return;
    }

    carrinho.push({
      tipo: "meio a meio",
      pizzas: pizzasSelecionadas,
      borda: bordaLabel,
      bebidas: bebidasSelecionadas,
      preco: calcularPrecoPizza("meio", [], bebidasSelecionadas)
    });

  } else if (modoPizza === "inteira") {
    const pizzasInteiras = [];
    document.querySelectorAll("#salgadas .pizza-card, #doces .pizza-card").forEach(card => {
      const nome = card.querySelector(".pizza-nome")?.innerText;
      const qtd = parseInt(card.querySelector(".quantidade span")?.innerText);
      if (qtd > 0) {
        pizzasInteiras.push({ nome, qtd });
      }
    });

    if (pizzasInteiras.length === 0) {
      alert("Selecione ao menos uma pizza inteira.");
      return;
    }

    carrinho.push({
      tipo: "inteira",
      pizzas: pizzasInteiras,
      borda: bordaLabel,
      bebidas: bebidasSelecionadas,
      preco: calcularPrecoPizza("inteira", pizzasInteiras, bebidasSelecionadas)
    });

  } else {
    alert("Selecione se deseja pizza inteira ou meio a meio.");
    return;
  }

  // Salvar no localStorage e redirecionar para carrinho
  localStorage.setItem("carrinho", JSON.stringify(carrinho));
  window.location.href = "carrinho.html";
}

// Fun√ß√£o para calcular o pre√ßo total
function calcularPrecoPizza(tipo, pizzas = [], bebidas = []) {
  let preco = 0;

  if (tipo === "meio") {
    preco += 71.00; // Pre√ßo fixo para meio a meio
  } else {
    pizzas.forEach(p => {
      preco += 47.90 * p.qtd; // Pre√ßo por pizza inteira
    });
  }


  const bordaSelecionada = document.querySelector('input[name="pagamento"]:checked');
  const bordaTipo = bordaSelecionada?.value;
  if (["catupiry", "cheddar",].includes(bordaTipo)) {
    preco += 10.00;
  }
   if (["chocolate"].includes(bordaTipo)) {
    preco += 15.00;
  }

  
  bebidas.forEach(b => {
    preco += b.qtd * 15.00; // Exemplo: cada bebida custa R$15
  });

  return preco;
}

function atualizarBotaoCarrinho() {
  const carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");
  const botao = document.getElementById("btnIrCarrinho");
  botao.disabled = carrinho.length === 0;
}


function irParaCarrinho() {
  const carrinho = JSON.parse(localStorage.getItem("carrinho") || "[]");

  if (carrinho.length === 0) {
    alert("Por favor, confirme seu pedido antes de ir para o carrinho.");
    return;
  }

  // Redireciona para a p√°gina do carrinho
  window.location.href = "carrinho.html";
}


// Chama ao carregar a p√°gina
document.addEventListener("DOMContentLoaded", () => {
  atualizarBotaoCarrinho();
});

//testes
document.addEventListener("DOMContentLoaded", () => {
  const modoInicial = document.querySelector('input[name="modoPizza"]:checked')?.value;
  meioMeioAtivo = modoInicial === "meio";

  document.getElementById("confirmarPizzaInteira").style.display = meioMeioAtivo ? "none" : "block";
  document.getElementById("confirmarMeioMeio").style.display = meioMeioAtivo ? "block" : "none";

  atualizarBotaoCarrinho();
});











// Adicione esta fun√ß√£o global para ser chamada de outras p√°ginas
async function carregarProdutos() {
  try {
    console.log('Iniciando carregamento de produtos...');
    
    const token = localStorage.getItem('token') || '';
    const headers = {
      'Accept': 'application/json',
      'Content-Type': 'application/json'
    };
    
    if (token) {
      headers['Authorization'] = `Bearer ${token}`;
    }

    // 1. Busca produtos do backend
    const [pizzasResponse, bebidasResponse] = await Promise.all([
      fetch('/api/menu/pizzas', { headers }),
      fetch('/api/menu/bebidas', { headers })
    ]);

    console.log('Respostas recebidas:', { pizzasResponse, bebidasResponse });

    // Verifica se as respostas s√£o JSON v√°lidos
    const pizzasBackend = await verificarRespostaJSON(pizzasResponse);
    const bebidasBackend = await verificarRespostaJSON(bebidasResponse);

    console.log('Dados do backend:', { pizzasBackend, bebidasBackend });

    // 2. Busca imagens do localStorage
    const produtosLocais = {
      pizzas: JSON.parse(localStorage.getItem('pizzas')) || [],
      bebidas: JSON.parse(localStorage.getItem('bebidas')) || []
    };

    // 3. Combina os dados
    const pizzasCompletas = pizzasBackend.map(pizzaBackend => {
      const pizzaLocal = produtosLocais.pizzas.find(p => 
        p.backendId === pizzaBackend.id_pizza || p.nome === pizzaBackend.sabor
      );
      
      return {
        ...pizzaBackend,
        imagem: pizzaLocal?.imagem || 'img/produtos/padrao.png',
        nome: pizzaBackend.sabor,
        descricao: pizzaBackend.observacao,
        categoria: determinarCategoria(pizzaBackend)
      };
    });

    const bebidasCompletas = bebidasBackend.map(bebidaBackend => {
      const bebidaLocal = produtosLocais.bebidas.find(b => 
        b.backendId === bebidaBackend.id_bebida || b.nome === bebidaBackend.nome
      );
      
      return {
        ...bebidaBackend,
        imagem: bebidaLocal?.imagem || 'img/produtos/bebida-padrao.png',
        nome: bebidaBackend.nome
      };
    });

    // 4. Exibe os produtos
    preencherPizzasSalgadas(pizzasCompletas.filter(p => p.categoria === 'salgada'));
    preencherPizzasDoces(pizzasCompletas.filter(p => p.categoria === 'doce'));
    preencherBebidas(bebidasCompletas);
    
  } catch (error) {
    console.error('Erro ao carregar produtos:', error);
    // Fallback: tenta carregar apenas do localStorage se o backend falhar
    carregarApenasLocal();
    
    // Mostra mensagem amig√°vel para o usu√°rio
    mostrarMensagemErro('N√£o foi poss√≠vel carregar o card√°pio completo. Alguns produtos podem estar indispon√≠veis.');
  }
}

// Fun√ß√µes auxiliares
function determinarCategoria(pizza) {
  if (pizza.tipo_borda?.toLowerCase().includes('doce')) return 'doce';
  if (pizza.observacao?.toLowerCase().includes('doce')) return 'doce';
  if (pizza.sabor?.toLowerCase().includes('doce')) return 'doce';
  return 'salgada';
}

function mostrarMensagemErro(mensagem) {
  const alerta = document.createElement('div');
  alerta.className = 'alert alert-warning fixed-top m-3';
  alerta.textContent = mensagem;
  document.body.prepend(alerta);
  
  setTimeout(() => alerta.remove(), 5000);
}



function carregarApenasLocal() {
  const produtosLocais = {
    pizzas: JSON.parse(localStorage.getItem('pizzas')) || [],
    bebidas: JSON.parse(localStorage.getItem('bebidas')) || []
  };
  
  preencherPizzasSalgadas(produtosLocais.pizzas.filter(p => p.categoria === 'salgada'));
  preencherPizzasDoces(produtosLocais.pizzas.filter(p => p.categoria === 'doce'));
  preencherBebidas(produtosLocais.bebidas);
}

// Modifique as fun√ß√µes de preenchimento para usar a estrutura de dados unificada
function criarCardPizza(pizza) {
  return `
    <section class="col-md-6 col-lg-4">
      <div class="card pizza-card h-100">
        <div class="card-body">
          <img src="${pizza.imagem}" class="card-img-top" alt="${pizza.nome}" 
               onerror="this.onerror=null; this.src='img/produtos/padrao.png'">
          <h5 class="card-title pizza-nome">${pizza.nome}</h5>
          <p class="card-text">${pizza.descricao || 'Sem descri√ß√£o'}</p>
          <div class="pizza-preco" data-preco="${pizza.preco || pizza.preco_sabor}" data-categoria="${pizza.categoria}">
            <p class="pizza-preco">R$ ${(pizza.preco || pizza.preco_sabor).toFixed(2).replace('.', ',')}</p>
            <div class="quantidade">
              <div class="quantidade-itens">
                <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                <span class="mx-2">0</span>
                <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  `;
}



document.addEventListener('DOMContentLoaded', function() {
    carregarProdutos();
  });

  function carregarProdutos() {
    // Carrega produtos do localStorage (imagens)
    const produtosLocais = {
      pizzas: JSON.parse(localStorage.getItem('pizzas')) || [],
      bebidas: JSON.parse(localStorage.getItem('bebidas')) || []
    };

    // Carrega produtos do backend (dados textuais)
    Promise.all([
      fetch('/api/menu/pizzas').then(res => res.json()),
      fetch('/api/menu/bebidas').then(res => res.json())
    ])
    .then(([pizzasBackend, bebidasBackend]) => {
      // Combinar dados locais (com imagens) com dados do backend
      const pizzasCompletas = pizzasBackend.map(pizzaBackend => {
        const pizzaLocal = produtosLocais.pizzas.find(p => p.nome === pizzaBackend.sabor);
        return {
          ...pizzaBackend,
          imagem: pizzaLocal?.imagem || 'imagem-padrao.png',
          descricao: pizzaBackend.observacao,
          categoria: pizzaBackend.tipo_borda.includes('Doce') ? 'doce' : 'salgada'
        };
      });

      const bebidasCompletas = bebidasBackend.map(bebidaBackend => {
        const bebidaLocal = produtosLocais.bebidas.find(b => b.nome === bebidaBackend.nome);
        return {
          ...bebidaBackend,
          imagem: bebidaLocal?.imagem || 'imagem-padrao-bebida.png'
        };
      });

      // Preencher as se√ß√µes
      preencherPizzasSalgadas(pizzasCompletas.filter(p => p.categoria === 'salgada'));
      preencherPizzasDoces(pizzasCompletas.filter(p => p.categoria === 'doce'));
      preencherBebidas(bebidasCompletas);
    })
    .catch(error => console.error('Erro ao carregar produtos:', error));
  }

  function preencherPizzasSalgadas(pizzas) {
    const container = document.querySelector('#salgadas .row');
    container.innerHTML = '';
    
    pizzas.forEach(pizza => {
      container.innerHTML += criarCardPizza(pizza);
    });
    
    configurarBotoes();
  }

  function preencherPizzasDoces(pizzas) {
    const container = document.querySelector('#doces .row');
    container.innerHTML = '';
    
    pizzas.forEach(pizza => {
      container.innerHTML += criarCardPizza(pizza);
    });
    
    configurarBotoes();
  }

  function preencherBebidas(bebidas) {
    const container = document.querySelector('#bebidas .row');
    container.innerHTML = '';
    
    bebidas.forEach(bebida => {
      container.innerHTML += criarCardBebida(bebida);
    });
    
    configurarBotoes();
  }

  function criarCardPizza(pizza) {
    return `
      <section class="col-md-6 col-lg-4">
        <div class="card pizza-card h-100">
          <div class="card-body">
            <img src="${pizza.imagem}" class="card-img-top" alt="${pizza.sabor}" onerror="this.src='imagem-padrao.png'">
            <h5 class="card-title pizza-nome">${pizza.sabor}</h5>
            <p class="card-text">${pizza.observacao}</p>
            <div class="pizza-preco" data-preco="${pizza.preco_sabor}" data-categoria="${pizza.categoria}">
              <p class="pizza-preco">R$ ${pizza.preco_sabor.toFixed(2).replace('.', ',')}</p>
              <div class="quantidade">
                <div class="quantidade-itens">
                  <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                  <span class="mx-2">0</span>
                  <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    `;
  }

  function criarCardBebida(bebida) {
    return `
      <section class="col-md-6 col-lg-4">
        <div class="card pizza-card h-100">
          <div class="card-body">
            <img src="${bebida.imagem}" class="card-img-top" alt="${bebida.nome}" onerror="this.src='imagem-padrao-bebida.png'">
            <h5 class="card-title pizza-nome">${bebida.nome} ${bebida.tamanho}</h5>
            <div class="pizza-preco" data-preco="${bebida.preco}" data-categoria="bebida">
              <p class="pizza-preco">R$ ${bebida.preco.toFixed(2).replace('.', ',')}</p>
              <div class="quantidade">
                <div class="quantidade-itens">
                  <button class="btn_retirar btn-outline-secondary btn-sm">-</button>
                  <span class="mx-2">0</span>
                  <button class="btn_adicionar btn-outline-secondary btn-sm">+</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    `;
  }

  

/* PARA RETIRAR E VOLTAR COM UM PRODUTO  */

document.addEventListener('DOMContentLoaded', function() {
    // Verifica itens retirados no localStorage
    const itensRetirados = JSON.parse(localStorage.getItem('itensRetirados')) || [];
    
    // Esconde os itens retirados
    itensRetirados.forEach(id => {
        const item = document.querySelector(`[data-id="${id}"]`);
        if (item) {
            item.style.display = 'none';
            
            // Opcional: Se voc√™ usar a classe item-retirado no cliente tamb√©m
            // item.classList.add('item-retirado');
        }
    });
    
    // Opcional: Atualiza√ß√£o em tempo real (se o cliente ficar com a p√°gina aberta)
    window.addEventListener('storage', function(e) {
        if (e.key === 'itensRetirados') {
            location.reload(); // Recarrega a p√°gina quando houver mudan√ßas
        }
    });
});



  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</script>
</body>


</html>